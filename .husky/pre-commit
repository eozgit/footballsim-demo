printf "\nüîç \033[1m[1/4] ANALYZING ARCHITECTURE\033[0m\n"
printf "   ‚Ü≥ Checking for circular dependencies...\n"
npm run check:circ || { printf "‚ùå \033[31mDEATH SPIRAL DETECTED: Circular dependencies found!\033[0m\n"; exit 1; }

printf "\nüõ°Ô∏è  \033[1m[2/4] VALIDATING TYPES\033[0m\n"
printf "   ‚Ü≥ Compiling TypeScript...\n"
npm run type-check || { printf "‚ùå \033[31mTYPE SHIFT DETECTED: Compilation failed!\033[0m\n"; exit 1; }

printf "\nüß™ \033[1m[3/4] RUNNING ENGINE TESTS\033[0m\n"
printf "   ‚Ü≥ Executing Vitest suite...\n"
npm run test:run || { printf "‚ùå \033[31mENGINE STALL: Tests failed!\033[0m\n"; exit 1; }

printf "\nüßπ \033[1m[4/4] POLISHING SOURCE\033[0m\n"
printf "   ‚Ü≥ Linting staged files...\n"
npx lint-staged || { printf "‚ùå \033[31mSTAIN DETECTED: Linting issues found!\033[0m\n"; exit 1; }

printf "\n‚úÖ \033[32m\033[1mSYSTEM READY: Commit Authorized.\033[0m\n\n"
